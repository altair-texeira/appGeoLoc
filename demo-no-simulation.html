<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
	<title>exemplo geo</title>
	
	<link rel="stylesheet" href="css/jquery.mobile.structure-1.3.0.min.css" type="text/css">
	<link rel="stylesheet" href="css/jquery.mobile.theme-1.3.0.min.css" type="text/css">
	<link rel="stylesheet" href="css/jquery.mobile-1.3.0.min.css" type="text/css">	
	
	<script type="text/javascript" src="js/cordova-2.7.0.js"></script>
	<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.9.1.custom.min.js"></script>
	<script type="text/javascript" src="js/jquery.mobile-1.3.0.min.js"></script>
	<!--<script type="text/javascript" src="phonegap.js"></script-->	
	<style>
		.error { color: red;}
		ul { display: none;}
	</style>
</head>	
<body>
	<h1>javascript-mobile-desktop-geolocation Sem Simulação</h1>
	<h2>Results:</h2>
	<p id="result">
		<ul id="coordinates">
			<li id="latitude"></li>
			<li id="longitude"></li>
		</ul>
	</p>
<center>	
		<div data-role="page" id="home_page" data-theme="a">
            <div data-role="header">
                <h3>javascript-mobile-desktop-geolocation Sem Simulação</h3>
            </div>
            <div data-role="content">
                <h2>Resultados:</h2>
				<p id="result">
				<ul id="coordinates">
					<li id="latitude"></li>
					<li id="longitude"></li>
				</ul>
				</p> 
            </div>
            <div data-role="footer" class="stickbottom">
                Altair
            </div>
        </div>
</center>
	<script src="js/geoPosition.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/geoPositionSimulator.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		if(geoPosition.init()){
			geoPosition.getCurrentPosition(success_callback,error_callback,{enableHighAccuracy:true});
		}
		else{
			document.getElementById('result').innerHTML = '<span class="error">Functionality not available</span>';
		}

		function success_callback(p)
		{
			var latitude = parseFloat( p.coords.latitude ).toFixed(2);
			var longitude = parseFloat( p.coords.longitude ).toFixed(2);
			document.getElementById('latitude').innerHTML = '<span class="information">Latitude:</span>' + latitude;
			document.getElementById('longitude').innerHTML = '<span class="information">Longitude:</span>' + longitude;		
			document.getElementById('coordinates').style.display = 'block';
		}
		
		function error_callback(p)
		{
			document.getElementById('result').innerHTML = '<span class="error">' + p.message + '</span>';			
		}		
	</script>	
</body>
</html>
